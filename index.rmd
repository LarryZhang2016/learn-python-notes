--- 
title: "Learning Python Notes"
author: "Lingyun Zhang"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
link-citations: yes
links-as-notes: true
colorlinks: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Preface {-}

# Basics

# Exercises

## Reverse a string

**Problem:** Write a function which accepts a string as its input and returns the reversed string.  

```{r, eval = FALSE}
# version 1
def rever_str_1(s):
    n = len(s)
    re = ''
    while True:
        n = n - 1
        if n >= 0:
            re = re + s[n]
        else:
            break
    return re

# version 2
def rever_str_2(s):
    return s[::-1]
```


## Powwer, dictionary and bar chart

**Problem:** Find the exact value of 2^10000^; create a dictionary, which stores the frequencies of the digits (0-9); create a bar chart for the frequencies.


```{r, eval=FALSE}
import matplotlib.pyplot as plt

a = 2 ** 10000
# print(a)

s = str(a)
freq = dict()

for ch in s:
    if ch not in freq:
        freq[ch] = 1
    else:
        freq[ch] += 1

plt.bar(freq.keys(), freq.values(), color='g')
plt.show()
```

## Function, list of repeated values

**Problem:** Make a function, which returns cumulative sums when an input (a positive integer) is given.

```{r, eval=FALSE}
def my_cusum(x):
    # x must be a positive integer
    the_result = [0] * x # create a list of x 0's
    t = 0
    for i in range(x):
        t = t + (i + 1)
        the_result[i] = t
    return the_result
```

## Simulation, birthday problem

**Problem:** Find the the answer to the *birthday problem* (https://en.wikipedia.org/wiki/Birthday_problem) by simulation.
```{r, eval=FALSE}
import numpy as np

def simu_birthday_problem(N = 10000, people_number = 23):
    indicator = [0] * N
    a = np.arange(365) # array([0, 1, ..., 364])
    for i in range(N):
        a_sample = np.random.choice(a, size = people_number, replace = True)
        b = set(a_sample)
        if len(a_sample) > len(b):
            indicator[i] = 1
    the_result = sum(indicator) / N
    return the_result # accuray: truth +- 0.01 with 95% confidence
```

## Simulation, tosses of a fair coin

**Problem:** Simulate 10000 tosses of a fair coin and plot the relative frequencies.
```{r, eval=FALSE}
import numpy as np
import matplotlib.pyplot as plt

def simu_toss_coin(N = 10000):
    cum_re = [0] * N # cumulative results
    prop_re = [0] * N
    popu = np.arange(2) # array([0, 1])
    the_sample = np.random.choice(popu, size = N, replace = True)
    cum_re[0] = the_sample[0]
    prop_re[0] = cum_re[0]
    for i in range(1, N):
        cum_re[i] = cum_re[i - 1] + the_sample[i]
        prop_re[i] = cum_re[i] / (i + 1)
    start = N//3       
    x = np.arange(start, N)       
    plt.plot(x, prop_re[start:N])
    epsi = 1 / np.sqrt(N)
    plt.axhline(0.5 - epsi, color = "red") # lower limit line
    plt.axhline(0.5 + epsi, color = "red") # upper limit line
    plt.xlabel("Number of tosses")
    plt.ylabel("Relative frequency of heads")
    plt.title("Simulation of tosses of a fair coin")
    plt.grid(True)
    plt.show()
```

